{"ast":null,"code":"import _slicedToArray from \"/home/rajat/Documents/blockchain/my/pet-shop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/rajat/Documents/blockchain/my/pet-shop/client/src/Main.jsx\";\nimport React, { useState } from 'react';\nimport Voting from \"./contracts/Voting.json\";\nimport getWeb3 from \"./getWeb3\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { render } from 'react-dom';\n\nconst Main = () => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        account = _useState2[0],\n        setaccount = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        web3 = _useState4[0],\n        setweb3 = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        owner = _useState6[0],\n        setowner = _useState6[1];\n\n  const _useState7 = useState(),\n        _useState8 = _slicedToArray(_useState7, 2),\n        votingInstance = _useState8[0],\n        setvotingInstance = _useState8[1];\n\n  const componentDidMount = async () => {\n    if (window.location.hash) {\n      // FOR REFRESHING PAGE ONLY ONCE -\n      window.location = window.location + \"#loaded\";\n      window.location.reload();\n    }\n\n    try {\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      console.log(\"Acooutn s \" + accounts[0]);\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = Voting.networks[networkId];\n      console.log(\"networkid: \" + networkId + \"  deploynetworkid : \" + deployedNetwork.address);\n      const instace = new web3.eth.Contract(Voting.abi, deployedNetwork && deployedNetwork.address);\n      setvotingInstance(instace);\n      setaccount(accounts[0]);\n      setweb3(web3);\n    } catch (error) {}\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  });\n};\n\nexport default Main;","map":{"version":3,"sources":["/home/rajat/Documents/blockchain/my/pet-shop/client/src/Main.jsx"],"names":["React","useState","Voting","getWeb3","render","Main","account","setaccount","web3","setweb3","owner","setowner","votingInstance","setvotingInstance","componentDidMount","window","location","hash","reload","accounts","eth","getAccounts","console","log","networkId","net","getId","deployedNetwork","networks","address","instace","Contract","abi","error"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,kCAAP;AACA,SAASC,MAAT,QAAuB,WAAvB;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA,oBACeJ,QAAQ,EADvB;AAAA;AAAA,QACRK,OADQ;AAAA,QACCC,UADD;;AAAA,qBAESN,QAAQ,EAFjB;AAAA;AAAA,QAERO,IAFQ;AAAA,QAEFC,OAFE;;AAAA,qBAGWR,QAAQ,EAHnB;AAAA;AAAA,QAGRS,KAHQ;AAAA,QAGDC,QAHC;;AAAA,qBAI6BV,QAAQ,EAJrC;AAAA;AAAA,QAIRW,cAJQ;AAAA,QAIQC,iBAJR;;AAKf,QAAMC,iBAAiB,GAAG,YAAU;AAChC,QAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAnB,EACA;AAAK;AACDF,MAAAA,MAAM,CAACC,QAAP,GAAkBD,MAAM,CAACC,QAAP,GAAkB,SAApC;AACAD,MAAAA,MAAM,CAACC,QAAP,CAAgBE,MAAhB;AACH;;AACD,QAAG;AACC,YAAMV,IAAI,GAAG,MAAML,OAAO,EAA1B;AACA,YAAMgB,QAAQ,GAAI,MAAMX,IAAI,CAACY,GAAL,CAASC,WAAT,EAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAeJ,QAAQ,CAAC,CAAD,CAAnC;AACA,YAAMK,SAAS,GAAG,MAAMhB,IAAI,CAACY,GAAL,CAASK,GAAT,CAAaC,KAAb,EAAxB;AACA,YAAMC,eAAe,GAAGzB,MAAM,CAAC0B,QAAP,CAAgBJ,SAAhB,CAAxB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAeC,SAAf,GAA0B,sBAA1B,GAAkDG,eAAe,CAACE,OAA9E;AACA,YAAMC,OAAO,GAAG,IAAItB,IAAI,CAACY,GAAL,CAASW,QAAb,CAAsB7B,MAAM,CAAC8B,GAA7B,EAAkCL,eAAe,IAAIA,eAAe,CAACE,OAArE,CAAhB;AACAhB,MAAAA,iBAAiB,CAACiB,OAAD,CAAjB;AACAvB,MAAAA,UAAU,CAACY,QAAQ,CAAC,CAAD,CAAT,CAAV;AACAV,MAAAA,OAAO,CAACD,IAAD,CAAP;AAGH,KAbD,CAcA,OAAMyB,KAAN,EAAY,CAEX;AACJ,GAvBD;;AA2BK,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAR;AAOR,CAvCD;;AAwCA,eAAe5B,IAAf","sourcesContent":["import React, { useState } from 'react';\nimport Voting from \"./contracts/Voting.json\";\nimport getWeb3 from \"./getWeb3\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { render } from 'react-dom';\n\nconst Main = () => {\n    const [account, setaccount] = useState();\n    const [web3, setweb3] = useState();\n    const [owner, setowner] = useState();\n    const [votingInstance, setvotingInstance] = useState();\n    const componentDidMount = async ()=>{\n        if(window.location.hash)\n        {    // FOR REFRESHING PAGE ONLY ONCE -\n            window.location = window.location + \"#loaded\";\n            window.location.reload();\n        }\n        try{\n            const web3 = await getWeb3();\n            const accounts  = await web3.eth.getAccounts();\n            console.log(\"Acooutn s \" + accounts[0]);\n            const networkId = await web3.eth.net.getId();\n            const deployedNetwork = Voting.networks[networkId];\n            console.log(\"networkid: \" +networkId +\"  deploynetworkid : \" +deployedNetwork.address);\n            const instace = new web3.eth.Contract(Voting.abi, deployedNetwork && deployedNetwork.address);\n            setvotingInstance(instace);\n            setaccount(accounts[0]);\n            setweb3(web3);\n\n\n        }\n        catch(error){\n\n        }\n    }\n\n\n\n         return (<div>\n\n\n\n\n         </div>);\n   \n};\nexport default Main;"]},"metadata":{},"sourceType":"module"}